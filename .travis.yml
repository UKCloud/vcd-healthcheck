language: go
script:
- go vet ./...
- golint ./...
- go test -v -check.v ./...
- go build
- '[ "${TRAVIS_PULL_REQUEST}" = "false" ] && goxc -bc="linux,!arm windows,386 darwin"
  || false'
install:
- git clone -b query_api --single-branch https://github.com/skyscape-cloud-services/vmware-govcd.git
  $GOPATH/src/github.com/hmrc/vmware-govcd
- go get github.com/laher/goxc
- go get -u github.com/golang/lint/golint
- go get -t ./...
- '[ "${TRAVIS_PULL_REQUEST}" = "false" ] && goxc bump && goxc -t -bc="linux,!arm windows,386 darwin"
  || false'
before_install:
- openssl aes-256-cbc -K $encrypted_7965e39eaaca_key -iv $encrypted_7965e39eaaca_iv -in .goxc.local.json.enc -out .goxc.local.json -d